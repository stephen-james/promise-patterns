!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.promisePatterns=e()}}(function(){return function e(n,r,t){function o(i,f){if(!r[i]){if(!n[i]){var l="function"==typeof require&&require;if(!f&&l)return l(i,!0);if(u)return u(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var s=r[i]={exports:{}};n[i][0].call(s.exports,function(e){var r=n[i][1][e];return o(r?r:e)},s,s.exports,e,n,r,t)}return r[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(e,n,r){var t=e("./stash"),o=e("./chunk"),u=e("./loop");n.exports={stash:t,chunk:o,loop:u}},{"./chunk":2,"./loop":4,"./stash":5}],2:[function(e,n,r){var t=e("underscore"),o=e("bluebird"),u=e("./chunkArray"),i=function(e,n,r,i){var f={chunkSize:10,interval:1,cancel:!1,resultLimit:null};i=t.extend({},f,i);var l=u(e,i.chunkSize),c=o.pending(),s=0,d=[],a=function(){o.resolve(n.call(r,l.shift(),s++)).then(function(e){d=d.concat(e),l.length&&(!i.resultLimit||d.length<i.resultLimit)&&!i.cancel?setTimeout(a,i.interval):c.resolve(d)})};return setTimeout(a,i.interval),c.promise};n.exports=i},{"./chunkArray":3,bluebird:"bluebird",underscore:"underscore"}],3:[function(e,n,r){var t=function(e,n){for(var r=[],t=[],o=n-1,u=0,i=e.length;i>u;u++)t.push(e[u]),(u%n===o||u===i-1)&&(r.push(t),t=[]);return r};n.exports=t},{}],4:[function(e,n,r){var t=e("bluebird"),o=function(e,n,r,u){return t.method(n.bind(e))().then(function(i){return i?t.method(r.bind(e))().then(u.bind(e)).then(function(){return o(e,n,r,u)}):e})};n.exports=o},{bluebird:"bluebird"}],5:[function(e,n,r){var t=e("bluebird"),o=function(e,n){return function(r){return e[n]=r,t.resolve({})}};n.exports=o},{bluebird:"bluebird"}]},{},[1])(1)});
//# sourceMappingURL=promisePatterns.js.map